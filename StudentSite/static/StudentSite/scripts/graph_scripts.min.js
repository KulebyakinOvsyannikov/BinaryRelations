var graph,elements=[],noRefresh=!1;
function initiateGraph(a){elements=a;a=[];for(var b=0;b<elements.length;++b){var c={id:String(elements[b]),label:String(elements[b]),x:Math.sin(2*b*Math.PI/elements.length),y:Math.cos(2*b*Math.PI/elements.length),size:20};a.push(c)}a={nodes:a,edges:[]};document.getElementById("graph_container").style.margin="25px";document.getElementById("graph_container").style.margin.overflow="visible";graph=new sigma({graph:a,renderer:{container:document.getElementById("graph_container"),type:"canvas"},settings:{doubleClickEnabled:!1,
minArrowSize:10,enableEdgeHovering:!0,edgeHoverColor:"edge",defaultEdgeHoverColor:"#000",edgeHoverSizeRatio:1,edgeHoverExtremities:!0,labelThreshold:0}});graph.camera.goTo({ratio:1.25});graph.refresh()}function addRelationIndices(a,b){addRelation(elements[a],elements[b])}function removeRelationIndices(a,b){removeRelation(elements[a],elements[b])}function changeRelationOnClick(a){0==a.checked?removeRelationForTableElement(a):addRelationForTableElement(a)}
function addRelationForTableElement(a){a=a.name.split("-");addRelationIndices(parseInt(a[0]),parseInt(a[1]))}function removeRelationForTableElement(a){a=a.name.split("-");removeRelationIndices(parseInt(a[0]),parseInt(a[1]))}function removeRelation(a,b){try{graph.graph.dropEdge(String(a)+"->"+String(b)),0==noRefresh&&graph.refresh()}catch(c){}}
function addRelation(a,b){try{graph.graph.addEdge({id:String(a)+"->"+String(b),source:String(a),target:String(b),type:a==b?"curve":"arrow"}),0==noRefresh&&graph.refresh()}catch(c){}}function partialGraph(a){noRefresh=!0;for(var b=0;b<a.length;++b){a[b]=a[b].split(" ");for(var c=0;c<a[b].length;++c)"+"==a[b][c]&&addRelationIndices(b,c)}graph.refresh();noRefresh=!1};
