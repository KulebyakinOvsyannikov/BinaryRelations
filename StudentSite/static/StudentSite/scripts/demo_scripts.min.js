var demoTipsContainer,demoStep=0,demoMatrixSolve,demoPropertiesSolve,demoTips,demoHighlights,demoWarshallAnswers,demoTopologicalAnswers,demoMatrixSteps=0,demoPropertiesSteps=0,demoWarshallsSteps=0,demoTopologicalSteps=0;
function demoInitiateScripts(a){warshallsInitialAnswers=demoMatrixSolve=a.matrixAnswers.split(" ");demoPropertiesSolve=a.propertiesAnswers.split(" ");demoMatrixSteps=demoMatrixSolve.length*demoMatrixSolve.length;demoPropertiesSteps=demoMatrixSteps+("of-order"==demoPropertiesSolve[7].split("=")[1]?10:8);demoWarshallsSteps=demoPropertiesSteps+demoMatrixSolve.length;"of-order"==demoPropertiesSolve[7].split("=")[1]&&(demoTopologicalSteps=demoWarshallsSteps+demoMatrixSolve.length);demoTips=a.tips;demoHighlights=
a.tipsHighlights;demoWarshallAnswers=a.warshallAnswers.split("@");demoTopologicalAnswers=a.topologicalAnswers;demoTipsContainer=document.getElementById("tips_container");document.getElementById("ts_cross_button").style.display="none"}
function demoNextStep(){demoStep<demoMatrixSteps?nextStepMatrix():demoStep<demoPropertiesSteps?(demoStep==demoMatrixSteps&&propertiesChangeVisibility(!0),demoNextStepProperties()):demoStep<demoWarshallsSteps?(demoStep==demoPropertiesSteps&&(matrixClearHighlights(),matrixSetPrimaryMatrix("warshalls_primary_matrix"),document.getElementById("warshalls_block").style.display="block"),nextStepWarshalls()):demoStep<demoTopologicalSteps?(demoStep==demoWarshallsSteps&&(matrixGraphHandle=void 0,document.getElementById("topological_block").style.display=
"block",document.getElementById("warshalls_block").style.display="none",tsMatrixFromString(demoMatrixSolve.join(" "))),nextStepTopological()):demoStep--;demoTipsContainer.innerHTML=demoTips[demoStep];demoStep<demoPropertiesSteps&&(document.getElementById("warshalls_block").style.display="none");demoStep++}
function demoPreviousStep(){for(var a=!1,b=!1,c=0;2>c&&1!=b;++c)0<demoStep?(demoStep--,demoStep<demoMatrixSteps?demoPreviousStepMatrix():demoStep<demoPropertiesSteps?demoPreviousStepProperties():demoStep<demoWarshallsSteps?demoPreviousStepWarshalls():demoStep<demoTopologicalSteps&&(demoPreviousStepTopological(),b=!0)):a=!0;demoStep<demoMatrixSteps&&propertiesChangeVisibility(!1);demoStep<demoPropertiesSteps&&(document.getElementById("warshalls_block").style.display="none");demoStep<demoWarshallsSteps&&
(document.getElementById("topological_block").style.display="none",document.getElementById("warshalls_block").style.display="block");a?(demoStep=0,demoTipsContainer.innerHTML=""):demoNextStep()}function demoPreviousStepMatrix(){matrixSetCell(Math.floor(demoStep/demoMatrixSolve.length),demoStep%demoMatrixSolve.length,"0",!1)}
function demoPreviousStepProperties(){demoStep==demoMatrixSteps&&(propertiesChangeVisibility(!1),matrixClearHighlights());propertiesUnsetValue(demoPropertiesSolve[demoStep-demoMatrixSteps])}function nextStepMatrix(){var a=Math.floor(demoStep/demoMatrixSolve.length),b=demoStep%demoMatrixSolve.length;matrixSetCell(a,b,demoMatrixSolve[a][b],!0)}
function demoNextStepProperties(){propertiesSetValue(demoPropertiesSolve[demoStep-demoMatrixSteps]);demoStep-demoMatrixSteps<demoHighlights.length?matrixHighlightProperties(demoHighlights[demoStep-demoMatrixSteps]):matrixHighlightProperties(void 0)}function nextStepWarshalls(){var a=demoStep-demoPropertiesSteps;warshallsRowFromAnswersString(a,demoWarshallAnswers[a])}
function nextStepTopological(){var a=demoStep-demoWarshallsSteps;tsSelectElement(demoTopologicalAnswers[a]);for(var b=0;b<demoMatrixSolve.length;++b)if(b!=demoTopologicalAnswers[a]){var c=tsGetElement(b,demoTopologicalAnswers[a]);c.disabled||"0"!=c.value||c.click()}tsCrossElement()}
function demoPreviousStepTopological(){demoStep==demoWarshallsSteps?demoStep--:demoStep=demoWarshallsSteps-1;tsMatrixFromString(demoMatrixSolve.join(" "));for(var a=0;a<demoMatrixSolve.length;++a)tsGetElement(a,a).disabled&&(tsSelectElement(a),tsCrossElement());tsSelectElement(-1);demoNextStep()}function demoPreviousStepWarshalls(){demoStep==demoPropertiesSteps&&(matrixElement=document.getElementById("matrix_table"),document.getElementById("warshalls_block").style.display="none")};
